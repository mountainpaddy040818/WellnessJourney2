<div class="container mt-5">
  <div class="col-md-12 mx-auto">
    <div class="row col-lg-8 justify-content-left">
      <h2><strong>Editing User Details</strong></h2>
    </div>
  </div>
  <%= form_with model: @user, url: user_path, method: :patch do |f| %>
    <div class="col-12 text-danger mt-3">
    <%= render "public/shared/error_messages", resource: @user %>
  </div>
    <table class="table table-borderless">
      <tbody>
        <tr>
          <td><strong>Image</strong></td>
          <td>
            <% if @user.profile_image.attached? %>
              <%= image_tag @user.get_profile_image, size: "200x200" %>
            <% end %>
            <%= f.file_field :profile_image, class: "form-control-file user_image", accept: "image/*" %>
            <%#= f.file_field :profile_image, class: "form-control-file user_image", accept: "image/" %>
          </td>
        </tr>
        <tr>
          <td><strong>User Name</strong></td>
          <td>
            <%= f.text_field :name, class: "form-control" %>
          </td>
        </tr>
        <tr>
          <td><strong>Introduction</strong></td>
          <td><%= f.text_area :introduction, class: "form-control", rows: "5" %></td>
        </tr>
        <tr>
          <td><strong>Target</strong></td>
          <td><%= f.text_area :target, class: "form-control", rows: "5" %></td>
        </tr>
      </tbody>
    </table>
    <div class="mt-3 text-center">
      <% if @user == current_user %>
        <%= f.submit "Save Changes", class: "btn btn-warning btn-sm mr-3" %>
      <% end %>
      <%= link_to "Back", user_path(@user.id), class: "btn btn-secondary btn-sm mr-3" %>
    </div>
  <% end %>
</div>